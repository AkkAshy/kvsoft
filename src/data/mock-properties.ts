import { Property } from '@/types/property';

// Моковые данные для недвижимости
export const mockProperties: Property[] = [
  {
    id: 1,
    title: '2-комнатная квартира в центре',
    description: 'Уютная квартира с евроремонтом в центре города. Рядом метро, магазины, кафе. Тихий двор, консьерж. Идеально для семьи или пары. Все удобства включены в стоимость.',
    price: 3500000,
    type: 'rent',
    address: 'ул. Навои, 15, Ташкент',
    rooms: 2,
    area: 65,
    floor: 5,
    total_floors: 9,
    latitude: 41.311081,
    longitude: 69.240562,
    images: [
      { id: 1, image: 'https://images.unsplash.com/photo-1502672260266-1c1ef2d93688?w=800' },
      { id: 2, image: 'https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?w=800' },
      { id: 3, image: 'https://images.unsplash.com/photo-1522708323590-d24dbb6b0267?w=800' },
    ],
    gender_preference: 'family',
    boiler_type: 'factory',
    repair_type: 'euro',
    building_type: 'apartment',
    has_furniture: true,
    has_wifi: true,
    has_conditioner: true,
    has_washing_machine: true,
    has_fridge: true,
    has_parking: true,
    has_elevator: true,
    has_balcony: true,
    pets_allowed: false,
    owner_name: 'Алишер Каримов',
    owner_phone: '+998 90 123 45 67',
    owner_email: 'alisher@mail.uz',
    status: 'active',
    is_favorited: false,
    created_at: '2025-01-03T10:00:00Z',
  },
  {
    id: 2,
    title: 'Комната для девушек рядом с НГПИ',
    description: 'Сдается комната в 3-комнатной квартире. Только для девушек. Тихие соседки-студентки. До НГПИ 5 минут пешком. Все коммунальные включены.',
    price: 1200000,
    type: 'rent',
    address: 'ул. Янги Сергели, 42, Наманган',
    rooms: 1,
    area: 18,
    floor: 3,
    total_floors: 5,
    latitude: 40.9983,
    longitude: 71.6726,
    images: [
      { id: 4, image: 'https://images.unsplash.com/photo-1595526114035-0d45ed16cfbf?w=800' },
      { id: 5, image: 'https://images.unsplash.com/photo-1630699144867-37acec97df5a?w=800' },
    ],
    gender_preference: 'female',
    boiler_type: 'custom',
    repair_type: 'cosmetic',
    building_type: 'apartment',
    has_furniture: true,
    has_wifi: true,
    has_conditioner: false,
    has_washing_machine: true,
    has_fridge: true,
    has_parking: false,
    has_elevator: false,
    has_balcony: false,
    pets_allowed: false,
    owner_name: 'Нодира Хамидова',
    owner_phone: '+998 91 234 56 78',
    status: 'active',
    is_favorited: true,
    created_at: '2025-01-02T14:30:00Z',
  },
  {
    id: 3,
    title: 'Посуточно: студия в новостройке',
    description: 'Современная студия для посуточной аренды. Свежий ремонт, smart TV, быстрый WiFi. Панорамный вид на город. Идеально для командировок.',
    price: 250000,
    type: 'daily_rent',
    address: 'ул. Мирзо Улугбека, 88, Ташкент',
    rooms: 1,
    area: 35,
    floor: 12,
    total_floors: 16,
    latitude: 41.3275,
    longitude: 69.2817,
    images: [
      { id: 6, image: 'https://images.unsplash.com/photo-1536376072261-38c75010e6c9?w=800' },
      { id: 7, image: 'https://images.unsplash.com/photo-1560185007-cde436f6a4d0?w=800' },
    ],
    gender_preference: 'any',
    boiler_type: 'factory',
    repair_type: 'designer',
    building_type: 'apartment',
    has_furniture: true,
    has_wifi: true,
    has_conditioner: true,
    has_washing_machine: true,
    has_fridge: true,
    has_parking: true,
    has_elevator: true,
    has_balcony: true,
    pets_allowed: true,
    owner_name: 'Тимур Рахимов',
    owner_phone: '+998 93 345 67 89',
    owner_email: 'timur.r@gmail.com',
    status: 'active',
    is_favorited: false,
    created_at: '2025-01-04T09:15:00Z',
    min_rental_days: 1,
  },
  {
    id: 4,
    title: '3-комнатная квартира на продажу',
    description: 'Просторная квартира в тихом районе. Два балкона, большая кухня, раздельный санузел. Документы готовы, быстрое оформление. Торг уместен.',
    price: 850000000,
    type: 'sale',
    address: 'ул. Чилонзор, 7, Ташкент',
    rooms: 3,
    area: 92,
    floor: 4,
    total_floors: 9,
    latitude: 41.2856,
    longitude: 69.2034,
    images: [
      { id: 8, image: 'https://images.unsplash.com/photo-1493809842364-78817add7ffb?w=800' },
      { id: 9, image: 'https://images.unsplash.com/photo-1560185127-6ed189bf02f4?w=800' },
      { id: 10, image: 'https://images.unsplash.com/photo-1584622650111-993a426fbf0a?w=800' },
    ],
    gender_preference: 'any',
    boiler_type: 'factory',
    repair_type: 'euro',
    building_type: 'apartment',
    has_furniture: false,
    has_wifi: false,
    has_conditioner: true,
    has_washing_machine: false,
    has_fridge: false,
    has_parking: true,
    has_elevator: true,
    has_balcony: true,
    pets_allowed: true,
    owner_name: 'Бахтиёр Юсупов',
    owner_phone: '+998 94 456 78 90',
    status: 'active',
    is_favorited: false,
    created_at: '2024-12-28T16:45:00Z',
  },
  {
    id: 5,
    title: '1-комнатная квартира для парней',
    description: 'Сдается квартира молодым людям. Рядом спортзал и парк. Хороший ремонт, вся техника. Соседи тихие.',
    price: 2000000,
    type: 'rent',
    address: 'ул. Бунёдкор, 33, Ташкент',
    rooms: 1,
    area: 42,
    floor: 2,
    total_floors: 5,
    latitude: 41.2995,
    longitude: 69.2401,
    images: [
      { id: 11, image: 'https://images.unsplash.com/photo-1512917774080-9991f1c4c750?w=800' },
    ],
    gender_preference: 'male',
    boiler_type: 'custom',
    repair_type: 'cosmetic',
    building_type: 'apartment',
    has_furniture: true,
    has_wifi: true,
    has_conditioner: false,
    has_washing_machine: true,
    has_fridge: true,
    has_parking: false,
    has_elevator: false,
    has_balcony: true,
    pets_allowed: false,
    owner_name: 'Фаррух Мирзаев',
    owner_phone: '+998 95 567 89 01',
    status: 'active',
    is_favorited: true,
    created_at: '2025-01-01T11:20:00Z',
  },
  {
    id: 6,
    title: 'Частный дом с участком',
    description: 'Уютный частный дом с садом и гаражом. Тихий район, хорошие соседи. Центральное отопление. Документы в порядке.',
    price: 1200000000,
    type: 'sale',
    address: 'мкр. Олмазор, Ташкент',
    rooms: 4,
    area: 150,
    images: [
      { id: 12, image: 'https://images.unsplash.com/photo-1564013799919-ab600027ffc6?w=800' },
      { id: 13, image: 'https://images.unsplash.com/photo-1600585154340-be6161a56a0c?w=800' },
    ],
    gender_preference: 'any',
    boiler_type: 'factory',
    repair_type: 'euro',
    building_type: 'private',
    has_furniture: true,
    has_wifi: true,
    has_conditioner: true,
    has_washing_machine: true,
    has_fridge: true,
    has_parking: true,
    has_elevator: false,
    has_balcony: false,
    pets_allowed: true,
    owner_name: 'Сардор Назаров',
    owner_phone: '+998 97 678 90 12',
    owner_email: 'sardor.n@mail.uz',
    status: 'active',
    is_favorited: false,
    created_at: '2024-12-25T08:00:00Z',
  },
  {
    id: 7,
    title: 'Квартира посуточно рядом с вокзалом',
    description: 'Отличное расположение для путешественников. 3 минуты до вокзала. Чистая квартира со всем необходимым.',
    price: 180000,
    type: 'daily_rent',
    address: 'ул. Жд вокзал, 5, Наманган',
    rooms: 2,
    area: 55,
    floor: 1,
    total_floors: 4,
    latitude: 41.0011,
    longitude: 71.6683,
    images: [
      { id: 14, image: 'https://images.unsplash.com/photo-1586023492125-27b2c045efd7?w=800' },
    ],
    gender_preference: 'any',
    boiler_type: 'custom',
    repair_type: 'cosmetic',
    building_type: 'apartment',
    has_furniture: true,
    has_wifi: true,
    has_conditioner: true,
    has_washing_machine: false,
    has_fridge: true,
    has_parking: false,
    has_elevator: false,
    has_balcony: false,
    pets_allowed: false,
    owner_name: 'Озода Тошматова',
    owner_phone: '+998 99 789 01 23',
    status: 'active',
    is_favorited: false,
    created_at: '2025-01-05T07:30:00Z',
    min_rental_days: 2,
  },
  {
    id: 8,
    title: 'Элитная квартира с видом на горы',
    description: 'Премиум класс. Панорамные окна, умный дом, дизайнерский ремонт. Подземный паркинг, консьерж 24/7.',
    price: 12000000,
    type: 'rent',
    address: 'ул. Шахрисабз, 1, Ташкент',
    rooms: 3,
    area: 120,
    floor: 15,
    total_floors: 20,
    latitude: 41.3111,
    longitude: 69.2797,
    images: [
      { id: 15, image: 'https://images.unsplash.com/photo-1600607687939-ce8a6c25118c?w=800' },
      { id: 16, image: 'https://images.unsplash.com/photo-1600566753086-00f18fb6b3ea?w=800' },
      { id: 17, image: 'https://images.unsplash.com/photo-1600585154526-990dced4db0d?w=800' },
    ],
    gender_preference: 'any',
    boiler_type: 'factory',
    repair_type: 'designer',
    building_type: 'apartment',
    has_furniture: true,
    has_wifi: true,
    has_conditioner: true,
    has_washing_machine: true,
    has_fridge: true,
    has_parking: true,
    has_elevator: true,
    has_balcony: true,
    pets_allowed: true,
    owner_name: 'Шавкат Ибрагимов',
    owner_phone: '+998 90 890 12 34',
    owner_email: 'shavkat.elite@gmail.com',
    status: 'active',
    is_favorited: true,
    created_at: '2024-12-30T12:00:00Z',
  },
];

// Функция поиска по моковым данным
export function searchProperties(query: string, filters?: {
  type?: string;
  rooms?: number;
  minPrice?: number;
  maxPrice?: number;
  gender_preference?: string;
}): Property[] {
  let results = [...mockProperties];

  // Поиск по тексту
  if (query) {
    const q = query.toLowerCase();
    results = results.filter(p =>
      p.title.toLowerCase().includes(q) ||
      p.description.toLowerCase().includes(q) ||
      p.address.toLowerCase().includes(q)
    );
  }

  // Фильтры
  if (filters?.type) {
    results = results.filter(p => p.type === filters.type);
  }
  if (filters?.rooms) {
    results = results.filter(p => p.rooms === filters.rooms);
  }
  if (filters?.minPrice) {
    results = results.filter(p => p.price >= filters.minPrice!);
  }
  if (filters?.maxPrice) {
    results = results.filter(p => p.price <= filters.maxPrice!);
  }
  if (filters?.gender_preference) {
    results = results.filter(p => p.gender_preference === filters.gender_preference);
  }

  return results;
}

// Получить объявление по ID
export function getPropertyById(id: number): Property | undefined {
  return mockProperties.find(p => p.id === id);
}
